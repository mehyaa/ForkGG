/* Define the highlight color locally as a fallback, 
       but it will prioritize your global variable if it exists.
    */
.gear-input {
    --thumb-size: 24px;
    --highlight-color: var(--color-fork-blue-highlighted);
    margin-top: 4px;

    /* 1. Track Base Color (Dark Grey) */
    background-color: var(--color-new-black);

    /* 2. Track Fill (Highlight Color) */
    /* We use a linear gradient that is solid highlight color */
    background-image: linear-gradient(to right, var(--highlight-color), var(--highlight-color));
    background-repeat: no-repeat;

    /* 3. Exact Fill Sizing
       Logic: The thumb moves within (100% - thumb_size).
       The center of the thumb is at: (100% - 24px) * val + 12px.
       We set the background size to exactly this width so the fill stops at the gear center.
    */
    background-size: calc((100% - var(--thumb-size)) * var(--val) + (var(--thumb-size) / 2)) 100%;

    /* Remove default styles */
    -webkit-appearance: none;
    appearance: none;
}

/* WEBKIT THUMB (Chrome, Edge, Safari) */
.gear-input::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    margin-top: calc(-1 * var(--thumb-size) / 2 - 3px);

    height: var(--thumb-size);
    width: var(--thumb-size);
    border: none;
    background-color: transparent;

    /* THUMB LAYERS:
       1. The Gear SVG (Color: #A3A8C1)
       2. The Radial Gradient (Hole Fill: --highlight-color)
    */
    background-image: /* Layer 1: The Gear Icon with fill='%23A3A8C1' */ url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23A3A8C1'%3E%3Cpath fill-rule='evenodd' d='M11.828 2.25c-.916 0-1.699.663-1.85 1.567l-.091.549a.798.798 0 01-.517.608 7.45 7.45 0 00-.478.198.798.798 0 01-.796-.064l-.453-.324a1.875 1.875 0 00-2.416.2l-.043.044a1.875 1.875 0 00-.2 2.416l.324.453a.798.798 0 01.064.796 7.448 7.448 0 00-.198.478.798.798 0 01-.608.517l-.55.092a1.875 1.875 0 00-1.566 1.849v.06c0 .916.663 1.699 1.567 1.85l.549.091c.281.047.508.25.608.517.06.162.127.321.198.478a.798.798 0 01-.064.796l-.324.453a1.875 1.875 0 00.2 2.416l.044.043a1.875 1.875 0 002.416.2l.453-.324a.798.798 0 01.796-.064c.157.071.316.137.478.198.267.1.47.327.517.608l.092.55c.15.903.932 1.566 1.849 1.566h.06c.916 0 1.699-.663 1.85-1.567l.091-.549a.798.798 0 01.517-.608c.162-.06.321-.127.478-.198a.798.798 0 01.796.064l.453.324a1.875 1.875 0 002.416-.2l.043-.044a1.875 1.875 0 00.2-2.416l-.324-.453a.798.798 0 01-.064-.796c.071-.157.137-.316.198-.478.1-.267.327-.47.608-.517l.55-.092a1.875 1.875 0 001.566-1.85v-.06c0-.916-.663-1.699-1.567-1.85l-.549-.091a.798.798 0 01-.608-.517 7.45 7.45 0 00-.198-.478.798.798 0 01.064-.796l.324-.453a1.875 1.875 0 00-.2-2.416l-.044-.043a1.875 1.875 0 00-2.416-.2l-.453.324a.798.798 0 01-.796.064 7.448 7.448 0 00-.478-.198.798.798 0 01-.517-.608l-.092-.55a1.875 1.875 0 00-1.85-1.566h-.06zM12 15a3 3 0 100-6 3 3 0 000 6z' clip-rule='evenodd' /%3E%3C/svg%3E"),
        /* Layer 2: The Colored Hole */ radial-gradient(circle, var(--highlight-color) 0%, var(--highlight-color) 30%, transparent 31%);

    background-position: center, center;
    background-repeat: no-repeat;
    background-size: contain, contain;

    cursor: grab;
    transform: translateY(-0.5px);
}

/* FIREFOX SUPPORT */
.gear-input::-moz-range-thumb {
    height: var(--thumb-size);
    width: var(--thumb-size);
    margin-top: calc(-1 * var(--thumb-size) / 2 - 3px);
    border: none;
    background-color: transparent;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23A3A8C1'%3E%3Cpath fill-rule='evenodd' d='M11.828 2.25c-.916 0-1.699.663-1.85 1.567l-.091.549a.798.798 0 01-.517.608 7.45 7.45 0 00-.478.198.798.798 0 01-.796-.064l-.453-.324a1.875 1.875 0 00-2.416.2l-.043.044a1.875 1.875 0 00-.2 2.416l.324.453a.798.798 0 01.064.796 7.448 7.448 0 00-.198.478.798.798 0 01-.608.517l-.55.092a1.875 1.875 0 00-1.566 1.849v.06c0 .916.663 1.699 1.567 1.85l.549.091c.281.047.508.25.608.517.06.162.127.321.198.478a.798.798 0 01-.064.796l-.324.453a1.875 1.875 0 00.2 2.416l.044.043a1.875 1.875 0 002.416.2l.453-.324a.798.798 0 01.796-.064c.157.071.316.137.478.198.267.1.47.327.517.608l.092.55c.15.903.932 1.566 1.849 1.566h.06c.916 0 1.699-.663 1.85-1.567l.091-.549a.798.798 0 01.517-.608c.162-.06.321-.127.478-.198a.798.798 0 01.796.064l.453.324a1.875 1.875 0 002.416-.2l.043-.044a1.875 1.875 0 00.2-2.416l-.324-.453a.798.798 0 01-.064-.796c.071-.157.137-.316.198-.478.1-.267.327-.47.608-.517l.55-.092a1.875 1.875 0 001.566-1.85v-.06c0-.916-.663-1.699-1.567-1.85l-.549-.091a.798.798 0 01-.608-.517 7.45 7.45 0 00-.198-.478.798.798 0 01.064-.796l.324-.453a1.875 1.875 0 00-.2-2.416l-.044-.043a1.875 1.875 0 00-2.416-.2l-.453.324a.798.798 0 01-.796.064 7.448 7.448 0 00-.478-.198.798.798 0 01-.517-.608l-.092-.55a1.875 1.875 0 00-1.85-1.566h-.06zM12 15a3 3 0 100-6 3 3 0 000 6z' clip-rule='evenodd' /%3E%3C/svg%3E"),
    radial-gradient(circle, var(--highlight-color) 0%, var(--highlight-color) 30%, transparent 31%);
    background-position: center, center;
    background-repeat: no-repeat;
    cursor: grab;
}